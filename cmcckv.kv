#:kivy 1.0.9

# backgroud color
<BackgroundColor>
    background_color: 0.5, 0.5, 0.5, 0.5
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos


# main class
<KivyWindow>:
	Widget:
		id:label_temp

    # left
    LeftWidget:
        size: 190,root.height
        pos:5,0
        BoxLayout:
            size: self.parent.width,30
            pos:5,root.height-35
            TextInput:
            	on_text_validate:print('u')


        ScrollClass:
            size: self.parent.width-5,root.height-45
            pos:5,0

            StackLayout:
                size_hint:1,None
                orientation:'bt-lr'
                id:member_list
                height:root.member_item_height*root.member_item_count
                MemberList_ToggleButton:
                    _id:'my'
                    _class:'personal'
                    text:'my'
                    height:root.member_item_height
                    group:'cmcc'
                    state:'down'
                    on_release:root.member_list_change(self)




    # middle
    Widget:
        size: root.width-390,root.height
        pos:195,0

        # chat title
        BoxLayout:
            size: root.width-390,30
            pos:195,root.height-35
            Label:
                text:'name'

        # chat window
        BackgroundColor:
            size: root.width-390,root.height-110
            pos:195,65
            ScrollClass:
                id:chat_scroll
                size: root.width-390,root.height-110
                pos:195,65
                scroll_y:0

        # chat input
        BoxLayout:
            size: root.width-390,60
            pos:195,0
            TextInput:
				id:weixin_textinput
                size_hint_x:0.6
                text:''
            Button:
                size_hint_x:0.2
                text:'send'
                on_release:root.msg_send()
            Button:
            	size_hint_x:0.2
            	text:'pic'
            	on_release:root.send_pic()
            Button:
                size_hint_x:0.2
                text:'itchat'
                on_release:root.itchat_start()


